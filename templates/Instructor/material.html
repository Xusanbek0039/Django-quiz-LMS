{% load static %}
<html lang="en">

<head>
  <title>Kanmey Lms</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="{% static 'style.css' %}">
  <link rel="stylesheet" href="{% static 'sidebar.css' %}">
  <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
  <link rel="stylesheet" href="{% static 'css/bootstrap.css' %}">
  <link href="https://unpkg.com/boxicons@2.1.2/css/boxicons.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

      <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.1.1/css/all.css">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
    integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
  <!-- CSS only -->
  <link rel="shortcut icon" href="{% static 'icons8-k-64.png' %}" type="image/x-icon">

  <script src="{% static 'js/jquery-min.js' %}"></script>

  <script src="{% static 'js/popper.js' %}"></script>
  <script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>


  <style>
      .ul.breadcrumb {
        border-radius: 0px;
  padding: 10px 16px;
  list-style: none;
  background-color: #11101d;
}

      .ul.breadcrumb .li {
  display: inline;
  font-size: 18px;
  color:rgb(69, 171, 255) ;
}

/* Add a slash symbol (/) before/behind each list item */
.ul.breadcrumb .li+.li:before {
  padding: 8px;
  color: rgb(255, 251, 251);
  content: "/\00a0";
}

/* Add a color to all links inside the list */
.ul.breadcrumb .li .a {
  color: #ffffff;
  text-decoration: none;
}

/* Add a color on mouse-over */
.ul.breadcrumb .li .a:hover {
  color: #b3d6f4;
  text-decoration: underline;
}
    hr {
      background-color: white;
    }

    .scroll ::-webkit-scrollbar {
      width: 1px;

    }

    .scroll ::-webkit-scrollbar-track {
      background-color: #6c757d;
    }

    .scroll ::-webkit-scrollbar-thumb {
      background-color: #6c757d;
    }

    .scroll ::-webkit-scrollbar-thumb:hover {
      background-color: #6c757d;
    }

  </style>
</head>

<body class="scroll">

  <div class="sidebar">
    <div class="logo_content">
      <div class="logo">
        <i class='bx bxl-kickstarter'></i>
        <div class="logo_name">
          anemy Lms
        </div>
        <br>

      </div>
      <i class='bx bx-menu' id="btn"></i>
    </div>
    <ul class="nav_list">

      <li>

        <a href="{% url 'instructor_home' %}">
          <i class='bx bxs-home'></i>
          <span class="links_name">Home</span>
        </a>
        <span class="tooltip">Home</span>
        <hr>

      </li>


      <li>
        <a href="{% url 'Schedule_home' %}">
          <i class='bx bx-table'></i>
          <span class="links_name">Schedule</span>
        </a>
        <span class="tooltip">Schedule</span>
        <hr>

      </li>




      {% if ExtraPermissions.open_course %}
      <li>
        <a href="{% url 'Schedule_student' Schedule_Name %}">
          <i class='fas fa-book-reader'></i>
          <span class="links_name"> Student Schedule</span>
        </a>
        <span class="tooltip"> Student Schedule</span>
        <hr>
      </li>
    {% endif %}


    </ul>
    <div class="profile_content">
      <div class="profile">
        <div class="profile_details">
          <img src="{% static 'iconins.png' %}" alt="">
          <div class="name_job">
            <div class="name"> {{user.first_name }} {{ user.last_name}}</div>
            <div class="job">{{user.instructor_type}}</div>
          </div>
        </div>
        <a href="{% url 'logout-view' %}"><i class='bx bx-log-out' id="log_out"></i></a>
      </div>
    </div>
  </div>

  <div class="wrapper d-flex align-items-stretch home_content">

    <!-- Page Content  -->
    <div id="content" class=" justify-content-center ">
<!--   -->
      <header>



          <ul class="ul breadcrumb" style="  background-color: #11101d;">
            <li class="li"><a class="a" href="{% url 'instructor_home' %}">Home</a></li>
            <li class="li"><a class="a" href="{% url 'Schedule_home' %}">Schedule</a></li>
            <li class="li"><a class="a" href="{% url 'Schedule_Instructor' Schedule_Name %}">{{Schedule_Name}}</a></li>
            <li class="li active" aria-current="page">Material</li>
          </ul>

      </header>

        <h1 class="text-center" style="margin-top: 100px">{{ Schedule_Name| capfirst }} material</h1>

      <div id="content" class="d-flex  container justify-content-center  ">
        <div class="row justify-content-center scroll" style="margin-top: 100px">


          <div id="requestcompanymass" class="col-5  ">

            <form action="" method="post" enctype="multipart/form-data">
              {% csrf_token %}
              <div class="card  bg-Dark_blue text-white mb-3"
                style="max-width: 40rem;">
                <div class="card-header">Upload Material</div>
                <div class="card-body">
                  <div class="form-group ">
                    Material Name :
                    <input type="text" required class="form-control " name="name" id=""
                      aria-describedby="helpId" placeholder="">

                  </div>


                  <div class="card text-dark  bg-light   mb-3" style="max-width: 25rem;">
                    <div class="card-header ">
                      <div class="row " style="text-align: center; border: 1px dotted;">
                        <div class="col-6" style=" border: 1px dotted;">

                          <div class="form-check">
                            <label class="form-check-label">
                              <input type="radio"  class="form-check-input" name="choice" id="" value="addvideo" checked>
                              video
                            </label>
                          </div>
                        </div>
                        <div class="col-6" style=" border: 1px dotted;">

                          <div class="form-check">
                            <label class="form-check-label">
                              <input type="radio" class="form-check-input" name="choice" id="" value="addSlide">
                              slide
                            </label>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="card-body">
                      <input type="file" class="form-control-file" required name="upload" id="" placeholder=""
                        aria-describedby="fileHelpId">
                    </div>
                  </div>



                  <center> <button type="submit" class="btn btn-outline-light col-5"
                      style=" border-radius: 20px;">Done</button> </center>
                </div>
              </div>
            </form>
          </div>
          <div class="col-7  scroll " style="height: 350px; overflow-y: scroll">

            <table class="table table-hover  table-dark" border="1" id="wrap" style=" overflow-y: scroll;">
              <thead class="thead-inverse sticky top-0">
                <tr>
                  <th class="col-4" >Material Name </th>
                  <th  class="col-4"> Material Type</th>
                  <th class="col-2">View</th>
                  <th class="col-2">Delete</th>
                </tr>
              </thead>
              <tbody>

                {% for material in material %}
                <tr>
                  <td scope="row">{{material.material_name}}</td>
                  <td>Video</td>
                  <td><a href="{{ material.lecture_video.url}}" target="_blank" rel="noopener noreferrer">viwe</a></td>
                  <td> <a href="{% url 'delete_material' material.Schedule_name material.id 'Video' %}">Delete</a> </td>
                </tr>
                {% endfor %}

                {% for material_slide in material_slide %}
                <tr>
                  <td scope="row">{{material_slide.material_name}}</td>
                  <td>slide</td>
                  <td><a href="{{ material_slide.slide.url}}" target="_blank" rel="noopener noreferrer">viwe</a></td>
                  <td> <a href="{% url 'delete_material' material_slide.Schedule_name material_slide.id 'slide' %}">Delete</a> </td>
                </tr>
                {% endfor %}
                
              </tbody>
            </table>
          </div>
        </div>
      </div>

    </div>

  </div>




  <script>

document.getElementById("wrap").addEventListener("scroll", function(){
   var translate = "translate(0,"+this.scrollTop+"px)";
   this.querySelector("thead").style.transform = translate;
});

    function schedule(data) {
      if (data == null) {
        $.ajax({
          url: window.location.origin + "/instructor/Schedule",

          success: function (req) {
            $("#requestcompany").html(req)
          }

        });
      } else if (data == "data") {
        var d = {
          "get": "submit_schedule",
          "Schedule_Name": $("#Schedule_Name").val(),
          "instructor_schedule_name": $("#instructor_schedule_name").val(),
          "student_schedule_name": $("#student_schedule_name").val(),
          "course_name": $("#course_name").val(),
          "quiz_name": $("#quiz_name").val(),
          "task_name": $("#task_name").val(),
          "material_name": $("#material_name").val(),
          "post_title": $("#post_title").val(),
        }
        $.ajax({
          url: window.location.origin + "/instructor/Schedule",
          data: d,
          dataType: "json",
          success: function (req) {
            $("#requestcompany").html(req)
          }

        });
      }

    }
    let btn = document.querySelector('#btn')
    let sidebar = document.querySelector('.sidebar')

    btn.onclick = function () {
      sidebar.classList.toggle('active')
    }
  </script>
</body>

</html>